{"version":3,"file":"LogsView.js","sources":["../../../webui/src/icons/download.svg","../../../webui/src/icons/live-streaming.svg","../../../webui/src/pages/LogsView.tsx"],"sourcesContent":["export default \"__VITE_ASSET__Dd3tjKzy__\"","export default \"__VITE_ASSET__Cfa$Ken8__\"","import { useCallback, useEffect, useRef, useState, type JSX } from \"react\";\nimport { getLogDownloadUrl, getLogTail, getLogs } from \"../api/client\";\nimport { useToast } from \"../context/ToastContext\";\nimport { useInterval } from \"../hooks/useInterval\";\nimport { IconImage } from \"../components/IconImage\";\nimport Select from \"react-select\";\n\n// Helper function for react-select theme-aware styles\nconst getSelectStyles = () => {\n  const isDark = document.documentElement.getAttribute('data-theme') === 'dark';\n  return {\n    control: (base: any) => ({\n      ...base,\n      background: isDark ? '#0f131a' : '#ffffff',\n      color: isDark ? '#eaeef2' : '#1d1d1f',\n      borderColor: isDark ? '#2a2f36' : '#d2d2d7',\n      minHeight: '38px',\n      boxShadow: 'none',\n      '&:hover': {\n        borderColor: isDark ? '#3a4149' : '#b8b8bd',\n      }\n    }),\n    menu: (base: any) => ({\n      ...base,\n      background: isDark ? '#0f131a' : '#ffffff',\n      borderColor: isDark ? '#2a2f36' : '#d2d2d7',\n      border: `1px solid ${isDark ? '#2a2f36' : '#d2d2d7'}`,\n    }),\n    option: (base: any, state: any) => ({\n      ...base,\n      background: state.isFocused\n        ? (isDark ? 'rgba(122, 162, 247, 0.15)' : 'rgba(0, 113, 227, 0.1)')\n        : (isDark ? '#0f131a' : '#ffffff'),\n      color: isDark ? '#eaeef2' : '#1d1d1f',\n      '&:active': {\n        background: isDark ? 'rgba(122, 162, 247, 0.25)' : 'rgba(0, 113, 227, 0.2)',\n      }\n    }),\n    singleValue: (base: any) => ({\n      ...base,\n      color: isDark ? '#eaeef2' : '#1d1d1f',\n    }),\n    input: (base: any) => ({\n      ...base,\n      color: isDark ? '#eaeef2' : '#1d1d1f',\n    }),\n    placeholder: (base: any) => ({\n      ...base,\n      color: isDark ? '#9aa3ac' : '#6e6e73',\n    }),\n    menuList: (base: any) => ({\n      ...base,\n      padding: '4px',\n    }),\n  };\n};\n\nfunction ansiToHtml(text: string): string {\n  // Enhanced ANSI to HTML converter with full TTY support\n  const fgColorMap: Record<string, string> = {\n    '30': '#000000', '31': '#cd3131', '32': '#0dbc79', '33': '#e5e510',\n    '34': '#2472c8', '35': '#bc3fbc', '36': '#11a8cd', '37': '#e5e5e5',\n    '90': '#666666', '91': '#f14c4c', '92': '#23d18b', '93': '#f5f543',\n    '94': '#3b8eea', '95': '#d670d6', '96': '#29b8db', '97': '#ffffff',\n  };\n\n  const bgColorMap: Record<string, string> = {\n    '40': '#000000', '41': '#cd3131', '42': '#0dbc79', '43': '#e5e510',\n    '44': '#2472c8', '45': '#bc3fbc', '46': '#11a8cd', '47': '#e5e5e5',\n    '100': '#666666', '101': '#f14c4c', '102': '#23d18b', '103': '#f5f543',\n    '104': '#3b8eea', '105': '#d670d6', '106': '#29b8db', '107': '#ffffff',\n  };\n\n  let result = text;\n  let styles: string[] = [];\n\n  // Replace ANSI sequences with HTML\n  // eslint-disable-next-line no-control-regex\n  result = result.replace(/\\u001b\\[([0-9;]+)m/g, (match, codes) => {\n    const codeList = codes.split(';');\n    let html = '';\n\n    for (const code of codeList) {\n      if (code === '0' || code === '') {\n        // Reset all styles\n        html += '</span>'.repeat(styles.length);\n        styles = [];\n      } else if (code === '1') {\n        // Bold\n        styles.push('font-weight:bold');\n        html += `<span style=\"${styles.join(';')}\">`;\n      } else if (code === '3') {\n        // Italic\n        styles.push('font-style:italic');\n        html += `<span style=\"${styles.join(';')}\">`;\n      } else if (code === '4') {\n        // Underline\n        styles.push('text-decoration:underline');\n        html += `<span style=\"${styles.join(';')}\">`;\n      } else if (code === '22') {\n        // Normal intensity\n        styles = styles.filter(s => !s.includes('font-weight'));\n      } else if (code === '23') {\n        // Not italic\n        styles = styles.filter(s => !s.includes('font-style'));\n      } else if (code === '24') {\n        // Not underlined\n        styles = styles.filter(s => !s.includes('text-decoration'));\n      } else if (fgColorMap[code]) {\n        // Foreground color\n        styles = styles.filter(s => !s.startsWith('color:'));\n        styles.push(`color:${fgColorMap[code]}`);\n        html += `<span style=\"${styles.join(';')}\">`;\n      } else if (bgColorMap[code]) {\n        // Background color\n        styles = styles.filter(s => !s.startsWith('background-color:'));\n        styles.push(`background-color:${bgColorMap[code]}`);\n        html += `<span style=\"${styles.join(';')}\">`;\n      } else if (code === '39') {\n        // Default foreground color\n        styles = styles.filter(s => !s.startsWith('color:'));\n      } else if (code === '49') {\n        // Default background color\n        styles = styles.filter(s => !s.startsWith('background-color:'));\n      }\n    }\n\n    return html;\n  });\n\n  // Close any remaining open spans\n  result += '</span>'.repeat(styles.length);\n\n  // Convert newlines to <br> tags\n  result = result.replace(/\\n/g, '<br>');\n\n  return result;\n}\n\nimport RefreshIcon from \"../icons/refresh-arrow.svg\";\nimport DownloadIcon from \"../icons/download.svg\";\nimport LiveIcon from \"../icons/live-streaming.svg\";\n\ninterface LogsViewProps {\n  active: boolean;\n}\n\nexport function LogsView({ active }: LogsViewProps): JSX.Element {\n  const [files, setFiles] = useState<string[]>([]);\n  const [selected, setSelected] = useState<string>(\"Main.log\");\n  const [content, setContent] = useState(\"\");\n  const [autoScroll, setAutoScroll] = useState(true);\n  const [loadingList, setLoadingList] = useState(false);\n  const [loadingContent, setLoadingContent] = useState(false);\n  const logRef = useRef<HTMLDivElement | null>(null);\n  const isUserScrollingRef = useRef(false);\n  const { push } = useToast();\n\n  const describeError = useCallback((reason: unknown, context: string): string => {\n    if (reason instanceof Error && reason.message) {\n      return `${context}: ${reason.message}`;\n    }\n    if (typeof reason === \"string\" && reason.trim().length) {\n      return `${context}: ${reason}`;\n    }\n    return context;\n  }, []);\n\n\n\n  const loadList = useCallback(async () => {\n    setLoadingList(true);\n    try {\n      const data = await getLogs();\n      const list = data.files ?? [];\n      setFiles(list);\n      if (list.length) {\n        setSelected((prev) => {\n          if (prev && list.includes(prev)) {\n            return prev;\n          }\n          const mainLog =\n            list.find((file) => file.toLowerCase() === \"main.log\") ?? null;\n          return mainLog ?? list[0];\n        });\n      } else {\n        setSelected(\"\");\n      }\n    } catch (error) {\n      push(describeError(error, \"Failed to refresh log list\"), \"error\");\n    } finally {\n      setLoadingList(false);\n    }\n  }, [describeError, push]);\n\n  const loadTail = useCallback(\n    async (name: string, shouldAutoScroll: boolean, showLoading: boolean = false) => {\n      if (!name) return;\n      if (showLoading) setLoadingContent(true);\n      try {\n        const text = await getLogTail(name);\n        setContent(text);\n        window.requestAnimationFrame(() => {\n          if (logRef.current && shouldAutoScroll && !isUserScrollingRef.current) {\n            logRef.current.scrollTop = logRef.current.scrollHeight;\n          }\n        });\n      } catch (error) {\n        push(describeError(error, `Failed to read ${name}`), \"error\");\n      } finally {\n        if (showLoading) setLoadingContent(false);\n      }\n    },\n    [describeError, push]\n  );\n\n  // Handle user scroll - disable autoscroll if user scrolls up\n  useEffect(() => {\n    const logElement = logRef.current;\n    if (!logElement) return;\n\n    const handleScroll = () => {\n      if (!autoScroll) return;\n\n      const { scrollTop, scrollHeight, clientHeight } = logElement;\n      const isAtBottom = Math.abs(scrollHeight - scrollTop - clientHeight) < 10;\n\n      // If user scrolled away from bottom, disable autoscroll\n      if (!isAtBottom && !isUserScrollingRef.current) {\n        isUserScrollingRef.current = true;\n        setAutoScroll(false);\n      }\n    };\n\n    logElement.addEventListener('scroll', handleScroll);\n    return () => logElement.removeEventListener('scroll', handleScroll);\n  }, [autoScroll]);\n\n  // Reset user scrolling flag when autoscroll is re-enabled\n  useEffect(() => {\n    if (autoScroll) {\n      isUserScrollingRef.current = false;\n      // Immediately scroll to bottom when enabled\n      if (logRef.current) {\n        logRef.current.scrollTop = logRef.current.scrollHeight;\n      }\n    }\n  }, [autoScroll]);\n\n  useEffect(() => {\n    void loadList();\n  }, [loadList]);\n\n  useEffect(() => {\n    if (selected) {\n      void loadTail(selected, autoScroll, true);\n    }\n  }, [selected, loadTail, autoScroll]);\n\n  useInterval(\n    () => {\n      if (selected) {\n        void loadTail(selected, autoScroll);\n      }\n    },\n    active && autoScroll ? 2000 : null\n  );\n\n\n\n  return (\n    <section className=\"card\" style={{ height: 'calc(100vh - 140px)', display: 'flex', flexDirection: 'column', margin: 0, padding: 0 }}>\n      <div className=\"card-header\" style={{ flexShrink: 0 }}>Logs</div>\n      <div className=\"card-body\" style={{ flex: 1, display: 'flex', flexDirection: 'column', overflow: 'hidden', padding: '12px' }}>\n        <div className=\"row\" style={{ flexShrink: 0, marginBottom: '12px' }}>\n          <div className=\"col field\">\n            <div className=\"field\">\n              <label>Log File</label>\n              <Select\n                options={files.map(f => ({ value: f, label: f }))}\n                value={selected ? { value: selected, label: selected } : null}\n                onChange={(option) => setSelected(option?.value || \"\")}\n                isDisabled={!files.length}\n                styles={getSelectStyles()}\n              />\n            </div>\n          </div>\n          <div className=\"col field\">\n            <label>&nbsp;</label>\n            <div className=\"row\" style={{ alignItems: \"center\" }}>\n              <button className=\"btn ghost\" onClick={() => void loadList()} disabled={loadingList}>\n                <IconImage src={RefreshIcon} />\n                Reload List\n              </button>\n              <button\n                className=\"btn\"\n                onClick={() =>\n                  selected && window.open(getLogDownloadUrl(selected), \"_blank\")\n                }\n                disabled={!selected}\n              >\n                <IconImage src={DownloadIcon} />\n                Download\n              </button>\n              <label className=\"hint inline\" style={{ cursor: \"pointer\" }}>\n                <input\n                  type=\"checkbox\"\n                  checked={autoScroll}\n                  onChange={(event) => setAutoScroll(event.target.checked)}\n                />\n                <IconImage src={LiveIcon} />\n                <span>Auto-scroll</span>\n              </label>\n            </div>\n          </div>\n        </div>\n        <div ref={logRef} style={{\n          flex: 1,\n          minHeight: 0,\n          overflow: 'auto',\n          backgroundColor: '#0a0e14',\n          borderRadius: '4px',\n          padding: '16px'\n        }}>\n          {loadingContent ? (\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '100%', color: '#666' }}>\n              <span className=\"spinner\" style={{ marginRight: '8px' }} />\n              Loading logs...\n            </div>\n          ) : content ? (\n            <pre style={{\n              margin: 0,\n              whiteSpace: 'pre-wrap',\n              fontFamily: '\"Cascadia Code\", \"Fira Code\", \"Consolas\", \"Monaco\", monospace',\n              fontSize: '13px',\n              lineHeight: '1.5',\n              color: '#e5e5e5',\n              tabSize: 4,\n              minHeight: '100%'\n            }} dangerouslySetInnerHTML={{ __html: ansiToHtml(content) }}>\n            </pre>\n          ) : (\n            <div style={{ color: '#666' }}>Select a log file to view its tail...</div>\n          )}\n        </div>\n      </div>\n    </section>\n  );\n}\n"],"names":["DownloadIcon","LiveIcon","getSelectStyles","isDark","base","state","ansiToHtml","text","fgColorMap","bgColorMap","result","styles","match","codes","codeList","html","code","s","LogsView","active","files","setFiles","useState","selected","setSelected","content","setContent","autoScroll","setAutoScroll","loadingList","setLoadingList","loadingContent","setLoadingContent","logRef","useRef","isUserScrollingRef","push","useToast","describeError","useCallback","reason","context","loadList","list","getLogs","prev","file","error","loadTail","name","shouldAutoScroll","showLoading","getLogTail","useEffect","logElement","handleScroll","scrollTop","scrollHeight","clientHeight","useInterval","jsx","jsxs","Select","f","option","IconImage","RefreshIcon","getLogDownloadUrl","event"],"mappings":"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"}